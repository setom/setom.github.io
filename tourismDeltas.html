<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Matthew Seto Portfolio</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
        <link rel="stylesheet" href="assets/css/main.css" />
        <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
        <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108644064-1"></script>
        <!-- Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
              integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
              crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
                integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
        crossorigin=""></script>
        <!-- Google Analytics -->
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'UA-108644064-1');
        </script>
    </head>
    <body>
        <!-- Header -->
        <div id="header">

            <div class="top">

                <!-- Logo -->
                <div id="logo">
                    <span class="image avatar48"><img src="images/MattProfile.jpg" alt="" /></span>
                    <h1 id="title">Matthew Seto</h1>
                    <p>BA, BSc, MSc (In Progress)</p>
                </div>

                <!-- Nav -->
                <nav id="nav">
                    <ul>
                        <li><a href="index.html" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Intro</span></a></li>
                        <li><a href="index.html#portfolio" id="portfolio-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Portfolio</span></a></li>
                        <li><a href="index.html#capstone" id="about-link" class="skel-layers-ignoreHref"><span class="icon fa-map">MSc Capstone Project</span></a></li>
                        <li><a href="index.html#conference" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-users">Conferences</span></a></li>
                        <li><a href="index.html#about" id="about-link" class="skel-layers-ignoreHref"><span class="icon fa-user">About Me & Contact</span></a></li>
                    </ul>
                </nav>
            </div>    
        </div>

        <!-- Content -->
        <div id="main">
            <div id="map"></div>
            <script type="text/javascript" src="https://rawgit.com/setom/Map_Data/master/ChangesInTourism.js"></script>
            <script>
            
            //My data geojson placeholder
            var myData; 
            var map = L.map('map').setView([0, 0], 2);

            L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
                attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
                maxZoom: 16
            }).addTo(map);

            //Get fill colours. Returns a fill colour based on what the value of the param is
            function getColor(d) {
                return d > 140 ? '#006d2c' :
                        d > 83 ? '#31a354' :
                        d > 49 ? '#74c476' :
                        d > 31 ? '#a1d99b' :
                        d > 1 ? '#c7e9c0' :
                        d > -54 ? '#fcbba1' :
                        //default
                        '#EEEEEE';
            }

            //gets the style for each polygon (since the fill is different)
            function style(feature) {
                return {
                    fillColor: getColor(feature.properties.Change),
                    weight: 1,
                    opacity: 0.75,
                    color: 'white',
                    fillOpacity: 0.75,
                };
            }

            //interaction handlers (credit: http://leafletjs.com/examples/choropleth/)

            //highlight a polygon when mouseover it
            function highlightFeature(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 5,
                    color: '#666',
                    fillOpacity: 0.7
                });

                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                    layer.bringToFront();
                }
            }
            //unhighlight when you remove the mouseover
            function resetHighlight(e) {
                myData.resetStyle(e.target);
            }
            //zoom to a feature when you click the polygon
            function zoomToFeature(e) {
                map.fitBounds(e.target.getBounds());
            }
            
            //add a mouse listener to each feature
            function onEachFeature(feature, layer) {
                layer.on({
                    mouseover: highlightFeature,
                    mouseout: resetHighlight,
                    click: zoomToFeature
                });
            }

            //MAKE THE MAP! :)
            myData = L.geoJson(tourism, {
                style: style,
                onEachFeature: onEachFeature
            }).addTo(map);


            </script>
        </div>
    </body>
</html>
